!function(){function l(l){const t=r.getBoundingClientRect();return{x:(l.clientX-t.left)*(r.width/t.width),y:(l.clientY-t.top)*(r.height/t.height)}}function t(t){t.preventDefault();const{x:e,y:a}=l(t.touches?t.touches[0]:t),n=e-h.ball.x,i=a-h.ball.y;if(n*n+i*i<=h.ball.r*h.ball.r){h.dragging=!0,h.dragOffset={x:n,y:i},h.ball.vx=0,h.ball.vy=0;const l=performance.now();h.prevPointer={x:h.ball.x,y:h.ball.y,t:l},h.lastPointer={x:h.ball.x,y:h.ball.y,t:l}}}function e(t){if(!h.dragging)return;t.preventDefault();const{x:e,y:a}=l(t.touches?t.touches[0]:t);h.ball.x=e-h.dragOffset.x,h.ball.y=a-h.dragOffset.y,h.prevPointer=h.lastPointer,h.lastPointer={x:h.ball.x,y:h.ball.y,t:performance.now()}}function a(l){if(h.dragging){if(l.preventDefault(),h.lastPointer&&h.prevPointer){const l=(h.lastPointer.t-h.prevPointer.t)/1e3;l>0&&(h.ball.vx=(h.lastPointer.x-h.prevPointer.x)/l,h.ball.vy=(h.lastPointer.y-h.prevPointer.y)/l)}h.dragging=!1}}function n(l){const t=Math.min(.033,(l-h.lastTime)/1e3);h.lastTime=l,h.dragging||(h.ball.vy+=b*t,h.ball.vx*=s,h.ball.vy*=s,h.ball.x+=h.ball.vx*t,h.ball.y+=h.ball.vy*t,h.ball.x-h.ball.r<0?(h.ball.x=h.ball.r,h.ball.vx=-h.ball.vx*d):h.ball.x+h.ball.r>r.width&&(h.ball.x=r.width-h.ball.r,h.ball.vx=-h.ball.vx*d),h.ball.y+h.ball.r>r.height?(h.ball.y=r.height-h.ball.r,h.ball.vy=-h.ball.vy*d,h.ball.vx*=.9):h.ball.y-h.ball.r<0&&(h.ball.y=h.ball.r,h.ball.vy=-h.ball.vy*d)),i(),requestAnimationFrame(n)}function i(){o.clearRect(0,0,r.width,r.height);const l=o.createLinearGradient(0,.6*r.height,0,r.height);l.addColorStop(0,"#0c1420"),l.addColorStop(1,"#0f172a"),o.fillStyle=l,o.fillRect(0,0,r.width,r.height),o.beginPath();const t=Math.max(.2,1-(r.height-(h.ball.y+h.ball.r))/r.height);o.ellipse(h.ball.x,r.height-8,1.2*h.ball.r,.4*h.ball.r*t,0,0,2*Math.PI),o.fillStyle="rgba(0,0,0,0.35)",o.fill(),o.beginPath(),o.arc(h.ball.x,h.ball.y,h.ball.r,0,2*Math.PI);const e=o.createRadialGradient(h.ball.x-8,h.ball.y-10,.3*h.ball.r,h.ball.x,h.ball.y,h.ball.r);e.addColorStop(0,"#bfdbfe"),e.addColorStop(1,h.ball.color),o.fillStyle=e,o.fill(),o.strokeStyle="#e0f2fe",o.lineWidth=2,o.stroke()}const r=document.getElementById("scene"),o=r.getContext("2d"),b=1200,s=.995,d=.6,h={ball:{x:r.width/2,y:r.height/3,vx:0,vy:0,r:26,color:"#60a5fa"},dragging:!1,dragOffset:{x:0,y:0},lastTime:performance.now(),lastPointer:null,prevPointer:null};r.addEventListener("mousedown",t),r.addEventListener("mousemove",e),window.addEventListener("mouseup",a),r.addEventListener("touchstart",t,{passive:!1}),r.addEventListener("touchmove",e,{passive:!1}),window.addEventListener("touchend",a,{passive:!1}),window.addEventListener("touchcancel",a,{passive:!1}),requestAnimationFrame(n)}();